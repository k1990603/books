(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-two-comic-comicDetail-comicDetail"],{"1bd8":function(t,e,a){"use strict";var i=a("ee27");a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.get=e.put=e.postJson=e.post=e.request=void 0;var o=a("e66a"),n=i(a("3dd7")),s=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"POST",contentType:"form"},i={Accept:"application/json"},s=n.default.getters["getToken"];return i["token"]=s||null,new Promise((function(n,s){wx.request({url:o.baseUrl+t,data:e,method:a.method||"POST",header:i,success:function(t){console.log(t,"res",200!==t.data.code,t.data.desc),200!==t.data.code?setTimeout((function(){uni.showToast({icon:"none",title:t.data.desc,duration:1500})}),200):(console.log(t,"2222"),n(t.data))},fail:function(t){return uni.showToast({icon:"none",title:"网络请求失败，请稍后再试",duration:1500}),s("网络请求失败，请稍后再试")},complete:function(t){var e="",a=t&&t.statusCode;switch(a){case 400:e="错误请求",uni.showToast({icon:"none",title:e,duration:1500});break;case 401:e="未授权，请重新登录",uni.showToast({icon:"none",title:e,duration:1500});break;case 403:e="拒绝访问",uni.showToast({icon:"none",title:e,duration:1500});break;case 404:e="请求错误,未找到该资源",uni.showToast({icon:"none",title:e,duration:1500});break;case 405:e="请求方法未允许",uni.showToast({icon:"none",title:e,duration:1500});break;case 408:e="请求超时",uni.showToast({icon:"none",title:e,duration:1500});break;case 500:e="服务器端出错",uni.showToast({icon:"none",title:e,duration:1500});break;case 501:e="网络未实现",uni.showToast({icon:"none",title:e,duration:1500});break;case 502:e="网络错误",uni.showToast({icon:"none",title:e,duration:1500});break;case 503:e="服务不可用",uni.showToast({icon:"none",title:e,duration:1500});break;case 504:e="网络超时",uni.showToast({icon:"none",title:e,duration:1500});break;case 505:e="http版本不支持该请求",uni.showToast({icon:"none",title:e,duration:1500});break}uni.hideLoading()}})}))};e.request=s;var c=function(t,e){return s(t,e,{method:"POST",contentType:"form"})};e.post=c;var l=function(t,e){return s(t,e,{method:"POST",contentType:"json"})};e.postJson=l;var r=function(t,e){return s(t,e,{method:"put",contentType:"json"})};e.put=r;var u=function(t,e){return e||(e={}),e.timestamp=(new Date).getTime(),s(t,e,{method:"GET"})};e.get=u},4938:function(t,e,a){"use strict";var i=a("4a46");a("4de4"),a("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("b53f")),n=a("d33c"),s={data:function(){return{TabCur:0,comicId:null,floors:{},ifFull:!1,modalName:null,checkbox:[{value:0,name:"100书币",checked:!1,hot:!1},{value:1,name:"200书币",checked:!1,hot:!1},{value:2,name:"300书币",checked:!1,hot:!1},{value:3,name:"600书币",checked:!1,hot:!1},{value:4,name:"800书币",checked:!1,hot:!1},{value:5,name:"100书币",checked:!1,hot:!1}]}},onLoad:function(t){this.comicId=t.comicId,this.getComicDetailAction()},onReady:function(){},methods:{timestampToTime:n.timestampToTime,tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id},showModal:function(t){this.modalName=t.currentTarget.dataset.target,console.log(this.modalName,888)},hideModal:function(t){this.modalName=null},ChooseCheckbox:function(t){for(var e=this.checkbox,a=t.currentTarget.dataset.value,i=0,o=e.length;i<o;++i)if(e[i].value==a){e[i].checked=!e[i].checked;break}},okModal:function(){var t=this.checkbox.filter((function(t){return t.checked})),e=t.map((function(t){return t.name}));console.log(t,e)},changeFill:function(){this.ifFull=!this.ifFull},toSend:function(t){var e=t.currentTarget.dataset.url;uni.navigateTo({url:e+"?comicId="+this.comicId+"&title="+this.floors.title+"&img="+this.floors.coverPic+"&category="+this.floors.category})},toRead:function(t){uni.navigateTo({url:"/pages/two/comic/comicread/comicread?id="+t+"&name="+this.floors.title})},getComicDetailAction:function(){var t=this;uni.showLoading({mask:!0});var e={comicId:this.comicId};o.getComicDetail(e).then((function(e){console.log(e.data,"多多"),t.floors=e.data,uni.hideLoading()}),(function(t){}))}}};e.default=s},6157:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.bookDetail .currentPage[data-v-a8083378]{min-height:%?500?%;overflow-y:hidden}.bookDetail .topwrap[data-v-a8083378]{margin-right:15px}.bookDetail .topshouc[data-v-a8083378]{margin-right:0}.bookDetail .curs[data-v-a8083378]{\n  /* border-bottom: 2px solid; */margin:0 %?140?%}.bookDetail .cu-bar[data-v-a8083378]{margin-top:%?60?%}.bookDetail .cu-btn.lg.half[data-v-a8083378]{text-align:center;margin:0 auto;width:%?200?%}.bookDetail .mbottom[data-v-a8083378]{padding-bottom:%?160?%}.bookDetail .fixednav[data-v-a8083378]{position:fixed;left:0;bottom:0;width:100vw}.bookDetail .details[data-v-a8083378]{width:200vw;background-color:#fff;-webkit-transition:all .3s linear;transition:all .3s linear}.bookDetail .details .detailWrap[data-v-a8083378]{padding:%?60?% %?40?% %?40?%}.bookDetail .details .detailWrap .title[data-v-a8083378]{margin-bottom:%?20?%}.bookDetail .details .detailWrap .content[data-v-a8083378]{color:#666;font-size:%?20?%;margin-bottom:%?40?%}.bookDetail .details .detailWrap .auther[data-v-a8083378]{color:#666;margin-bottom:%?40?%}.bookDetail .details .selectWrap[data-v-a8083378]{padding:%?60?% %?40?% %?40?%}.bookDetail .bubble[data-v-a8083378]{width:150px;height:150px;margin:20px auto;border-radius:50%;background:0 0;text-align:center;line-height:55px;font-size:20px;color:#44a9f7;padding-top:20px;box-sizing:border-box;box-shadow:inset -30px -30px 75px rgba(68,168,247,.2),inset 0 0 5px rgba(68,168,247,.5),inset 0 0 55px hsla(0,0%,100%,.5),inset -3px -3px 5px rgba(68,168,247,.5),0 0 50px hsla(0,0%,100%,.75)}.bookDetail .bubble hr[data-v-a8083378]{width:80%;height:1px;border:none;margin:0 auto;background-color:#44a9f7}.bookDetail .tran[data-v-a8083378]{-webkit-transform:translateX(-100vw);transform:translateX(-100vw)}.fixed[data-v-a8083378]{position:fixed;z-index:99}.VerticalNav.nav[data-v-a8083378]{width:%?200?%;white-space:normal}.VerticalNav.nav .cu-item[data-v-a8083378]{width:100%;text-align:center;background-color:#fff;margin:0;border:none;height:50px;position:relative}.VerticalNav.nav .cu-item.cur[data-v-a8083378]{background-color:#f1f1f1}.VerticalNav.nav .cu-item.cur[data-v-a8083378]::after{content:"";width:%?8?%;height:%?30?%;border-radius:%?10?% 0 0 %?10?%;position:absolute;background-color:currentColor;top:0;right:%?0?%;bottom:0;margin:auto}.VerticalBox[data-v-a8083378]{display:-webkit-box;display:-webkit-flex;display:flex}.VerticalMain[data-v-a8083378]{background-color:#f1f1f1;-webkit-box-flex:1;-webkit-flex:1;flex:1}',""]),t.exports=e},6613:function(t,e,a){"use strict";a.r(e);var i=a("c29f"),o=a("e4f8");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("9014");var s,c=a("f0c5"),l=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"a8083378",null,!1,i["a"],s);e["default"]=l.exports},9014:function(t,e,a){"use strict";var i=a("a331"),o=a.n(i);o.a},a331:function(t,e,a){var i=a("6157");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("0f2aabcf",i,!0,{sourceMap:!1,shadowMode:!1})},b53f:function(t,e,a){"use strict";var i=a("4a46");Object.defineProperty(e,"__esModule",{value:!0}),e.getComicHome=n,e.getComicStyle=s,e.getComicDetail=c,e.getSendPage=l,e.getCommentPage=r,e.episodesContent=u;var o=i(a("1bd8"));function n(){return o.get("/books/comic/homePage")}function s(t){return o.get("/books/comic/page",t)}function c(t){return o.get("/books/comic/details",t)}function l(t){return o.get("/books/comic/sendPage",t)}function r(t){return o.get("/books/comic/commentPage",t)}function u(t){return o.get("/books/comic/getComicPicture",t)}},c29f:function(t,e,a){"use strict";var i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bookDetail"},[a("v-uni-view",{staticClass:"fixed"},[a("cu-custom",{attrs:{isBack:!0,bgColor:"bg-shadeTop text-white"}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),a("template",{attrs:{slot:"right"},slot:"right"},[a("v-uni-text",{staticClass:"lg text-pink"}),a("v-uni-view",{staticClass:"cu-tag round bg-orange topwrap"},[a("v-uni-text",{staticClass:"lg cuIcon-add topshouc"}),a("v-uni-text",[t._v("收藏")])],1)],1)],2)],1),a("v-uni-view",{staticClass:"bg-img bg-mask flex align-end",style:"background-image: url("+t.floors.coverPic+");height: 414upx;background-size: cover;"},[a("v-uni-view",{staticClass:"padding-xl text-white"},[a("v-uni-view",{staticClass:"padding-xs text-xxl text-bold"},[t._v(t._s(t.floors.title))]),a("v-uni-view",{staticClass:"padding-sm text-sm text-white cu-btn round line-white"},[t._v(t._s(t.floors.category&&t.floors.category.slice(0,-1)))])],1)],1),a("v-uni-scroll-view",{staticClass:"bg-white nav text-center",attrs:{"scroll-x":!0}},t._l(2,(function(e,i){return a("v-uni-view",{key:i,staticClass:"cu-item curs",class:i==t.TabCur?"text-orange cur":"",attrs:{"data-id":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabSelect.apply(void 0,arguments)}}},[t._v(t._s(i?"选集":"详情"))])})),1),a("v-uni-view",{staticClass:"details grid col-2",class:[1==t.TabCur?"tran":"",t.ifFull?"":"currentPage"]},[a("v-uni-view",{staticClass:"detailWrap"},[a("v-uni-view",{staticClass:"title"},[t._v("作品简介")]),a("v-uni-view",{staticClass:"content"},[t._v(t._s(t.floors.summary))]),a("v-uni-view",{staticClass:"auther"},[t._v("作者："+t._s(t.floors.author))]),a("v-uni-view",{staticClass:"grid col-3"},[a("v-uni-view",{staticClass:"text-left"},[a("v-uni-text",{staticClass:"lg text-orange cuIcon-favorfill"},[t._v(t._s(t.floors.collectSum||0)+"人已收藏")])],1),a("v-uni-view",{staticClass:"text-center"},[a("v-uni-text",{staticClass:"lg text-blue cuIcon-appreciate"},[t._v(t._s(t.floors.likeSum||0)+"人已点赞")])],1),a("v-uni-view",{staticClass:"text-right"},[a("v-uni-text",{staticClass:"lg text-pink cuIcon-like"},[t._v(t._s(10*(t.floors.collectSum+t.floors.likeSum))+"人气值")])],1)],1)],1),a("v-uni-view",{staticClass:"selectWrap grid col-3"},[t._l(t.floors.comicEpisodes,(function(e,i){return t.ifFull||i<6?a("v-uni-view",{key:i,staticClass:"padding-xs",attrs:{"data-id":e.id}},[a("v-uni-view",{staticClass:"cu-btn radius line-gray",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toRead(e.id)}}},[t._v("第"+t._s(i+1)+"章")])],1):t._e()})),t.ifFull?a("v-uni-view",{staticClass:"flex flex-direction",staticStyle:{width:"100vw"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeFill.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"cu-btn radius bg-gray lg text-sm margin-tb-sm"},[t._v("收起更多章节")])],1):a("v-uni-view",{staticClass:"flex flex-direction",staticStyle:{width:"100vw"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeFill.apply(void 0,arguments)}}},[a("v-uni-button",{staticClass:"cu-btn radius bg-gray lg text-sm margin-tb-sm"},[t._v("查看更多章节")])],1)],2)],1),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-titles text-orange "}),t._v("最新评论")],1),a("v-uni-view",{staticClass:"action text-orange",attrs:{"data-url":"/pages/two/comic/moreCommon/moreCommon"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSend.apply(void 0,arguments)}}},[a("v-uni-text",[t._v("更多")]),a("v-uni-text",{staticClass:"lg cuIcon-right"})],1)],1),a("v-uni-view",{staticClass:"cu-card dynamic no-card"},[a("v-uni-view",{staticClass:"cu-list menu-avatar comment solids-top"},t._l(t.floors.commentList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"cu-item"},[a("v-uni-view",{staticClass:"cu-avatar round",staticStyle:{"background-image":"url(https://ossweb-img.qq.com/images/lol/img/champion/Morgana.png)"}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.userName))]),a("v-uni-view",{staticClass:"text-gray text-content text-df"},[t._v(t._s(e.commentInfo))]),a("v-uni-view",{staticClass:"margin-top-sm flex justify-between"},[a("v-uni-view",{staticClass:"text-gray text-df"},[t._v(t._s(t.timestampToTime(e.createTime)))])],1)],1)],1)})),1)],1),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-titles text-orange "}),t._v("猜你喜欢")],1)],1),a("v-uni-view",{staticClass:"bg-white padding flex flex-direction"},[a("v-uni-view",{staticClass:"bubble"},[a("v-uni-text",[t._v("已打赏")]),a("hr"),a("v-uni-text",[t._v(t._s(t.floors.sendSum||0)+"书币")])],1),a("v-uni-button",{staticClass:"cu-btn bg-blue round margin-tb-sm lg half",attrs:{"data-target":"ChooseModal"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}}},[t._v("打赏")])],1),a("v-uni-view",{staticClass:"cu-modal bottom-modal",class:"ChooseModal"==t.modalName?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{staticClass:"cu-bar bg-white"},[a("v-uni-view",{staticClass:"action text-blue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-view",{staticClass:"action text-green",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.okModal.apply(void 0,arguments)}}},[t._v("确定")])],1),a("v-uni-view",{staticClass:"grid col-3 padding-sm"},t._l(t.checkbox,(function(e,i){return a("v-uni-view",{key:i,staticClass:"padding-xs"},[a("v-uni-button",{staticClass:"cu-btn orange lg block",class:e.checked?"bg-orange":"line-orange",attrs:{"data-value":e.value},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ChooseCheckbox.apply(void 0,arguments)}}},[t._v(t._s(e.name)),e.hot?a("v-uni-view",{staticClass:"cu-tag sm round",class:e.checked?"bg-white text-orange":"bg-orange"},[t._v("HOT")]):t._e()],1)],1)})),1)],1)],1),a("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-titles text-orange"}),t._v("打赏记录")],1)],1),a("v-uni-view",{staticClass:"cu-card dynamic no-card"},[a("v-uni-view",{staticClass:"cu-list menu-avatar comment solids-top mbottom bg-white"},[t._l(t.floors.sendList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"cu-item"},[a("v-uni-view",{staticClass:"cu-avatar round",staticStyle:{"background-image":"url(https://ossweb-img.qq.com/images/lol/img/champion/Morgana.png)"}}),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.userName||""))]),a("v-uni-view",{staticClass:"text-orange text-content text-df"},[t._v("赠送 "+t._s(e.userAmount||0)+" 个礼物给作者")]),a("v-uni-view",{staticClass:"margin-top-sm flex justify-between"},[a("v-uni-view",{staticClass:"text-gray text-df"},[t._v(t._s(t.timestampToTime(e.createTime)))])],1)],1)],1)})),a("v-uni-view",{staticClass:"bg-white padding flex flex-direction"},[a("v-uni-button",{staticClass:"cu-btn line-grey round margin-tb-sm lg",attrs:{"data-url":"/pages/two/comic/moreSend/moreSend"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSend.apply(void 0,arguments)}}},[t._v("更多")])],1)],2)],1),a("v-uni-view",{staticClass:"fixednav flex  p-xs mb-sm bg-white solids-top"},[a("v-uni-view",{staticClass:"flex-twice bg-white padding-sm margin-xs radius"},[a("v-uni-text",[t._v("1话：第几章东方史蒂夫史蒂夫")])],1),a("v-uni-view",{staticClass:"flex-sub padding-sm margin-xs radius"},[a("v-uni-button",{staticClass:"cu-btn bg-orange round lg shadow"},[t._v("立即阅读")])],1)],1)],1)},n=[];a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}))},d33c:function(t,e,a){"use strict";function i(t){var e=new Date(t),a=e.getFullYear()+"年",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月",o=e.getDate()<10?"0"+e.getDate():e.getDate()+"日",n=e.getHours()<10?"0"+e.getHours():e.getHours(),s=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),c=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+i+o+" "+n+":"+s+":"+c}Object.defineProperty(e,"__esModule",{value:!0}),e.timestampToTime=i},e4f8:function(t,e,a){"use strict";a.r(e);var i=a("4938"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},e66a:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baseUrl=void 0;var i="http://47.244.209.81";e.baseUrl=i}}]);