(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book_mall-details"],{"19d9":function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,".img-box[data-v-0719db3c]{width:%?220?%}",""]),t.exports=a},"231a":function(t,a,i){"use strict";var n,e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("v-uni-view",{staticClass:"flex p-xs padding"},[i("v-uni-view",{staticClass:"flex-twice margin-xs"},[i("v-uni-view",{staticClass:"text-xl"},[t._v(t._s(t.bookData.name))]),i("v-uni-view",{staticClass:"margin-top"},[t._v(t._s(t.bookData.author))]),i("v-uni-view",{staticClass:"text-grey margin-top-sm"},[i("v-uni-text",[t._v(t._s(t.bookData.sort))]),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(t.bookData.state))])],1),i("v-uni-view",{staticClass:"margin-top"},[t._v(t._s(t.bookData.time))])],1),i("v-uni-view",{staticClass:"flex-sub margin-xs"},[i("v-uni-image",{staticClass:"radius img-box",attrs:{src:t.bookData.img,mode:"widthFix","lazy-load":!0}})],1)],1),i("v-uni-scroll-view",{staticClass:"bg-white nav",attrs:{"scroll-x":!0,"scroll-with-animation":!0}},t._l(t.TabData,(function(a,n){return i("v-uni-view",{key:n,staticClass:"cu-item",class:n==t.TabCur?"text-orange cur":"",attrs:{"data-id":n},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tabSelect.apply(void 0,arguments)}}},[t._v(t._s(a))])})),1),0==t.TabCur?i("v-uni-view",{staticClass:"bg-white padding solid-top margin-bottom"},[t._v("简介："+t._s(t.bookData.intro))]):i("v-uni-view",{staticClass:"bg-white solid-top margin-bottom"},[i("v-uni-view",{staticClass:"cu-bar solid-bottom"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"text-sm"},[t._v("更新至"+t._s(t.bookData.news))])],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.orderClick.apply(void 0,arguments)}}},[t._v(t._s(t.order))])],1)],1),i("v-uni-view",{staticClass:"cu-list menu"},t._l(t.listData,(function(a,n){return i("v-uni-view",{key:n,staticClass:"cu-item arrow",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.details(a,n)}}},[i("v-uni-view",{staticClass:"content"},[t._v(t._s(a.name))])],1)})),1)],1),i("v-uni-view",{staticClass:"cu-tabbar-height"}),i("v-uni-view",{staticClass:"cu-bar bg-white tabbar border zai-tabbar-bar"},[i("v-uni-view",{staticClass:"btn-group"},[0==t.addBtn?i("v-uni-button",{staticClass:"cu-btn bg-orange round shadow-blur",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.AddClick.apply(void 0,arguments)}}},[t._v("加入书架")]):i("v-uni-text",[t._v("已加入书架")])],1),i("v-uni-view",{staticClass:"btn-group"},[i("v-uni-button",{staticClass:"cu-btn bg-red round shadow-blur",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.readClick.apply(void 0,arguments)}}},[t._v("立即阅读")])],1)],1)],1)},s=[];i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){return n}))},"34f3":function(t,a,i){"use strict";var n=i("564e"),e=i.n(n);e.a},"564e":function(t,a,i){var n=i("19d9");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("40bfb75a",n,!0,{sourceMap:!1,shadowMode:!1})},6320:function(t,a,i){"use strict";var n=i("ee27");i("26e9"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=n(i("41e2")),s={data:function(){return{TabCur:0,TabData:["简介","目录"],bookData:{},listData:[],order:"倒序",BookID:null,addBtn:!0,newsID:null,newsName:""}},onLoad:function(t){var a=this;this.BookID=t.id,this.GetBookDetails(t.id),e.default.GetBookListID(t.id).then((function(t){a.addBtn=t}))},methods:{tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id},GetBookDetails:function(t){var a=this;this.zaiApi({url:"dingdian/"+t}).then((function(t){a.GetDetailsData(t)}))},GetDetailsData:function(t){var a=this;e.default.DetailsData(t).then((function(t){a.bookData=t.data,a.listData=t.list,a.newsID=t.list[0].id,a.newsName=t.list[0].name}))},orderClick:function(){var t=this.order;this.order="正序"==t?"倒序":"正序",this.listData=this.listData.reverse()},AddClick:function(){var t=this,a={id:this.BookID,news:this.newsID,page:0,index:1,name:this.newsName,title:this.bookData.name,img:this.bookData.img};e.default.AddBookListData(a).then((function(a){t.addBtn=!0}))},readClick:function(){var t={id:this.BookID,news:this.newsID,page:0,index:1,name:this.newsName,title:this.bookData.name,img:this.bookData.img};try{uni.setStorageSync("BookReadData",t),uni.navigateTo({url:"/pages/bookshelf/read"})}catch(a){uni.showToast({title:"数据异常",icon:"none"})}},details:function(t,a){var i=this.order,n=a+1;if("正序"==i){var e=this.listData.length;n=e-a-1}var s={id:this.BookID,news:t.id,page:0,index:n,name:t.name,title:this.bookData.name,img:this.bookData.img};try{uni.setStorageSync("BookReadData",s),uni.navigateTo({url:"/pages/bookshelf/read"})}catch(o){uni.showToast({title:"数据异常",icon:"none"})}}}};a.default=s},"9d20":function(t,a,i){"use strict";i.r(a);var n=i("231a"),e=i("e4f3");for(var s in e)"default"!==s&&function(t){i.d(a,t,(function(){return e[t]}))}(s);i("34f3");var o,u=i("f0c5"),r=Object(u["a"])(e["default"],n["b"],n["c"],!1,null,"0719db3c",null,!1,n["a"],o);a["default"]=r.exports},e4f3:function(t,a,i){"use strict";i.r(a);var n=i("6320"),e=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(a,t,(function(){return n[t]}))}(s);a["default"]=e.a}}]);