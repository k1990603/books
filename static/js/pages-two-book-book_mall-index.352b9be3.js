(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-two-book-book_mall-index"],{"1bd8":function(e,t,n){"use strict";var r=n("ee27");n("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.put=t.postJson=t.post=t.request=void 0;var a=n("e66a"),i=r(n("3dd7")),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"POST",contentType:"form"},r={Accept:"application/json"},o=i.default.getters["getToken"];return r["token"]=o||null,new Promise((function(i,o){wx.request({url:a.baseUrl+e,data:t,method:n.method||"POST",header:r,success:function(e){console.log(e,"res",200!==e.data.code,e.data.desc),200!==e.data.code?setTimeout((function(){uni.showToast({icon:"none",title:e.data.desc,duration:1500})}),200):(console.log(e,"2222"),i(e.data))},fail:function(e){return uni.showToast({icon:"none",title:"网络请求失败，请稍后再试",duration:1500}),o("网络请求失败，请稍后再试")},complete:function(e){var t="",n=e&&e.statusCode;switch(n){case 400:t="错误请求",uni.showToast({icon:"none",title:t,duration:1500});break;case 401:t="未授权，请重新登录",uni.showToast({icon:"none",title:t,duration:1500});break;case 403:t="拒绝访问",uni.showToast({icon:"none",title:t,duration:1500});break;case 404:t="请求错误,未找到该资源",uni.showToast({icon:"none",title:t,duration:1500});break;case 405:t="请求方法未允许",uni.showToast({icon:"none",title:t,duration:1500});break;case 408:t="请求超时",uni.showToast({icon:"none",title:t,duration:1500});break;case 500:t="服务器端出错",uni.showToast({icon:"none",title:t,duration:1500});break;case 501:t="网络未实现",uni.showToast({icon:"none",title:t,duration:1500});break;case 502:t="网络错误",uni.showToast({icon:"none",title:t,duration:1500});break;case 503:t="服务不可用",uni.showToast({icon:"none",title:t,duration:1500});break;case 504:t="网络超时",uni.showToast({icon:"none",title:t,duration:1500});break;case 505:t="http版本不支持该请求",uni.showToast({icon:"none",title:t,duration:1500});break}uni.hideLoading()}})}))};t.request=o;var s=function(e,t){return o(e,t,{method:"POST",contentType:"form"})};t.post=s;var c=function(e,t){return o(e,t,{method:"POST",contentType:"json"})};t.postJson=c;var u=function(e,t){return o(e,t,{method:"put",contentType:"json"})};t.put=u;var d=function(e,t){return t||(t={}),t.timestamp=(new Date).getTime(),o(e,t,{method:"GET"})};t.get=d},"41e2":function(e,t,n){"use strict";var r=n("ee27");n("caad"),n("c975"),n("ac1f"),n("2532"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var a=r(n("c964")),i={GetBookListData:function(){return(0,a.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t=uni.getStorageSync("bookshelf_list"),!t){e.next=4;break}return e.abrupt("return",t);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return","");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},AddBookListData:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.GetBookListData();case 2:if(r=n.sent,""!=r&&null!=r&&void 0!=r){n.next=10;break}return a=[],a.push(e),n.next=8,t.AddBookListStorage(a);case 8:n.next=17;break;case 10:return n.next=12,t.GetBookListID(e.id);case 12:if(i=n.sent,0!=i){n.next=17;break}return r.push(e),n.next=17,t.AddBookListStorage(r);case 17:case"end":return n.stop()}}),n)})))()},UpBookListData:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.GetBookListData();case 2:if(r=n.sent,""!=r&&null!=r&&void 0!=r){n.next=7;break}console.log("书架没有内容"),n.next=12;break;case 7:for(a=!1,i=0;i<r.length;i++)r[i].id==e.id&&(r[i].news=e.news,r[i].page=e.page,r[i].index=e.index,r[i].name=e.name,a=!0);if(!a){n.next=12;break}return n.next=12,t.AddBookListStorage(r);case 12:case"end":return n.stop()}}),n)})))()},AddBookListStorage:function(e){return(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{uni.setStorageSync("bookshelf_list",e)}catch(n){}case 1:case"end":return t.stop()}}),t)})))()},GetBookListID:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.GetBookListData();case 2:if(r=n.sent,""!=r&&null!=r&&void 0!=r){n.next=7;break}return n.abrupt("return",!1);case 7:for(a=!1,i=0;i<r.length;i++)r[i].id==e&&(a=!0);return n.abrupt("return",a);case 10:case"end":return n.stop()}}),n)})))()},DelBookList:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.GetBookListData();case 2:if(r=n.sent,""!=r&&null!=r&&void 0!=r){n.next=7;break}return n.abrupt("return",!1);case 7:for(a=[],i=0;i<r.length;i++)0==e.includes(r[i].id)&&a.push(r[i]);return n.next=11,t.AddBookListStorage(a);case 11:case"end":return n.stop()}}),n)})))()},clearStorage:function(){return(0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{uni.setStorageSync("bookshelf_list",""),uni.clearStorageSync()}catch(t){}case 1:case"end":return e.stop()}}),e)})))()},GetReadContentData:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return uni.showLoading({title:"处理中..."}),n.next=3,t.GetInterceptTheSpecifiedString(e,'<div id="book_text">','<div id="ali"></div>');case 3:return r=n.sent,uni.hideLoading(),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))()},DetailsData:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a,i,o,s,c,u,d,l,f,p,h,g,v,b,k,m,x,w,S,T;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return uni.showLoading({title:"处理中..."}),r={},n.next=4,t.GetInterceptTheSpecifiedString(e,'<div id="maininfo">','<div class="ob-first"></div></div>');case 4:return a=n.sent,n.next=7,t.GetInterceptTheSpecifiedString(a,'<div class="img"><img src="','" width="200" height="240" alt="');case 7:return i=n.sent,n.next=10,t.GetInterceptTheSpecifiedString(a,"<h1>","</h1>");case 10:return o=n.sent,n.next=13,t.GetInterceptTheSpecifiedString(a,"<h3>作者：","</h3>");case 13:return s=n.sent,n.next=16,t.GetInterceptTheSpecifiedString(a,"<p>所属类型：","</p>");case 16:return c=n.sent,n.next=19,t.GetInterceptTheSpecifiedString(a,"<p>连载完成：","</p>");case 19:return u=n.sent,n.next=22,t.GetInterceptTheSpecifiedString(a,'<p class="s">更新时间：',"</p>");case 22:return d=n.sent,n.next=25,t.GetInterceptTheSpecifiedString(a,'target="_blank">',"</a></span>");case 25:return l=n.sent,n.next=28,t.GetInterceptTheSpecifiedString(a,'<div id="intro">',"</div>");case 28:return f=n.sent,n.next=31,t.GetInterceptTheSpecifiedString(f,"<p>","</p>");case 31:return p=n.sent,h={img:i,name:o,author:s,sort:c,intro:p,state:u,time:d,news:l},r.data=h,n.next=36,t.GetInterceptTheSpecifiedString(e,'<div class="article_texttitleb">','<div class="tags"><b>');case 36:return g=n.sent,n.next=39,t.GetInterceptTheSpecifiedString(g,"<ul>","</ul>");case 39:v=n.sent,b=v.split("</li>"),k=[],m=0;case 43:if(!(m<b.length)){n.next=60;break}if(!b[m]){n.next=57;break}return n.next=47,t.GetInterceptTheSpecifiedString(b[m],'<a href="/dingdian/','">');case 47:if(x=n.sent,!x){n.next=57;break}return n.next=51,t.GetInterceptTheSpecifiedString(x,"/",".html");case 51:return w=n.sent,n.next=54,t.GetInterceptTheSpecifiedString(b[m],'.html">',"</a>");case 54:S=n.sent,T={id:w,name:S},k.push(T);case 57:m++,n.next=43;break;case 60:return r.list=k,uni.hideLoading(),n.abrupt("return",r);case 63:case"end":return n.stop()}}),n)})))()},searchData:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,a,i,o,s,c,u,d,l,f,p,h,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return uni.showLoading({title:"处理中..."}),n.next=3,t.GetInterceptTheSpecifiedString(e,'<ul id="BookList" class="nr">',"</ul>");case 3:r=n.sent,a=r.split("</li>"),i=[],o=0;case 7:if(!(o<a.length)){n.next=40;break}if(!a[o]){n.next=37;break}return n.next=11,t.GetInterceptTheSpecifiedString(a[o],'<div class="pic"><a href="/dingdian/','/"  target=');case 11:if(s=n.sent,!s){n.next=37;break}return n.next=15,t.GetInterceptTheSpecifiedString(a[o],'<img src="','" ></a>');case 15:return c=n.sent,n.next=18,t.GetInterceptTheSpecifiedString(a[o],'<div class="nrrk">','<div class="num"></div>');case 18:return u=n.sent,n.next=21,t.GetInterceptTheSpecifiedString(u,'"  target="_blank">',"</a></strong>");case 21:return d=n.sent,n.next=24,t.GetInterceptTheSpecifiedString(u,"<span>作者：","</span></div>");case 24:return l=n.sent,n.next=27,t.GetInterceptTheSpecifiedString(u,"<span>类别：","</span><span>");case 27:return f=n.sent,n.next=30,t.GetInterceptTheSpecifiedString(a[o],'<div class="num"></div>'," <dl><dt>");case 30:return p=n.sent,n.next=33,t.GetInterceptTheSpecifiedString(p,"<p>","</p>");case 33:h=n.sent,g={id:s,img:c,name:d,author:l,sort:f,introduce:h},console.log(g),i.push(g);case 37:o++,n.next=7;break;case 40:return uni.hideLoading(),n.abrupt("return",i);case 42:case"end":return n.stop()}}),n)})))()},GetInterceptTheSpecifiedString:function(e,t,n){return(0,a.default)(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""!=e&&null!=e&&void 0!=e){r.next=2;break}return r.abrupt("return","");case 2:if(!(e.indexOf(t)<0)){r.next=4;break}return r.abrupt("return","");case 4:return a=e.substring(e.indexOf(t)+t.length,e.length),i=a.substring(0,a.indexOf(n)),r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)})))()},strLeng:function(e){if(e){for(var t=e.length,n=0,r=0;r<t;r++)e.charCodeAt(r)>128?n+=2:n+=1;return n}return 0}},o=i;t.default=o},"586b":function(e,t,n){"use strict";n.r(t);var r=n("e839"),a=n("e227");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("8a93");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"f8269e3a",null,!1,r["a"],o);t["default"]=c.exports},"6b98":function(e,t,n){"use strict";var r=n("4a46"),a=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("41e2")),o=r(n("bd98")),s=(n("2f62"),{data:function(){return{key:"",listData:[]}},onLoad:function(){},methods:{searchKey:function(e){this.key=e.detail.value},searchBtn:function(){var e=this;if(this.key){this.listData=[];var t={name:this.key};uni.showLoading({mask:!0}),console.log(1111,t),o.getBookStyle(t).then((function(t){console.log(333);var n=t.data.list||[];n.length<1?uni.showToast({icon:"none",title:"没有搜索到相关漫画",duration:1500}):e.listData=n}),(function(e){console.log(444)}))}},GetSearchData:function(e){var t=this;i.default.searchData(e).then((function(e){console.log(e,888),t.listData=e}))},details:function(e){uni.navigateTo({url:"/pages/two/book/bookDetail/bookDetail?comicId="+e})}}});t.default=s},"8a93":function(e,t,n){"use strict";var r=n("dc67"),a=n.n(r);a.a},9734:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".cu-bar .search-form[data-v-f8269e3a]{background-color:#fff}",""]),e.exports=t},bd98:function(e,t,n){"use strict";var r=n("4a46");Object.defineProperty(t,"__esModule",{value:!0}),t.getbookPage=i,t.getbookDetail=o,t.getbookType=s,t.categoryPageList=c,t.getBookStyle=u,t.episodesContent=d,t.getCommentPage=l,t.getSendPage=f,t.categoryList=p;var a=r(n("1bd8"));function i(){return a.get("/books/book/homePage")}function o(e){return a.get("/books/book/details",e)}function s(e){return a.get("/books/book/homePageList",e)}function c(e){return a.get("/books/book/categoryPageList",e)}function u(e){return a.get("/books/book/page",e)}function d(e){return a.get("/books/book/episodesContent",e)}function l(e){return a.get("/books/book/commentList",e)}function f(e){return a.get("/books/book/userSendList",e)}function p(e){return a.get("/books/book/categoryList",e)}},dc67:function(e,t,n){var r=n("9734");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("4f06").default;a("79d9a57a",r,!0,{sourceMap:!1,shadowMode:!1})},e227:function(e,t,n){"use strict";n.r(t);var r=n("6b98"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},e66a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseUrl=void 0;var r="http://47.244.209.81";t.baseUrl=r},e839:function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("cu-custom",{attrs:{bgColor:"bg-gradual-pink",headerStatus:!0,isBack:!0}},[n("template",{attrs:{slot:"backText"},slot:"backText"},[e._v("返回")])],2),n("v-uni-view",{staticClass:"cu-bar search margin-top-xl"},[n("v-uni-view",{staticClass:"search-form round bg-white"},[n("v-uni-text",{staticClass:"cuIcon-search"}),n("v-uni-input",{attrs:{"adjust-position":!1,type:"text",placeholder:"搜索小说","confirm-type":"search"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.searchKey.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.searchBtn.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchBtn.apply(void 0,arguments)}}},[e._v("搜索")])],1)],1),e.listData.length>0?n("v-uni-view",{staticClass:"cu-bar solid-bottom"},[n("v-uni-view",{staticClass:"action"},[e._v("搜索结果")])],1):e._e(),e.listData.length>0?n("v-uni-view",{staticClass:"cu-list menu-avatar"},e._l(e.listData,(function(t,r){return n("v-uni-view",{key:r,staticClass:"cu-item",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.details(t.id)}}},[n("v-uni-image",{staticClass:"cu-avatar radius lg",attrs:{src:t.coverPic,mode:"widthFix","lazy-load":!0}}),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",[n("v-uni-view",{staticClass:"text-cut"},[e._v(e._s(t.title))]),n("v-uni-view",{staticClass:"cu-tag round bg-orange sm"},[e._v(e._s(t.author))])],1),n("v-uni-view",{staticClass:"text-gray text-sm flex"},[n("v-uni-view",{staticClass:"text-cut"},[e._v(e._s(t.summary))])],1)],1)],1)})),1):e._e()],1)},i=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}))}}]);